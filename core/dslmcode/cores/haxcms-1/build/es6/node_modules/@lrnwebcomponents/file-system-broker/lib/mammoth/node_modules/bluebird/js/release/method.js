module.exports=function(t,e,r,n,o){var a=require("./util"),c=a.tryCatch;t.method=function(r){if("function"!=typeof r)throw new t.TypeError("expecting a function but got "+a.classString(r));return function(){var n=new t(e);n._captureStackTrace(),n._pushContext();var a=c(r).apply(this,arguments),u=n._popContext();return o.checkForgottenReturns(a,u,"Promise.method",n),n._resolveFromSyncValue(a),n}},t.attempt=t.try=function(r){if("function"!=typeof r)return n("expecting a function but got "+a.classString(r));var u,i=new t(e);if(i._captureStackTrace(),i._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],p=arguments[2];u=a.isArray(l)?c(r).apply(p,l):c(r).call(p,l)}else u=c(r)();var s=i._popContext();return o.checkForgottenReturns(u,s,"Promise.try",i),i._resolveFromSyncValue(u),i},t.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}};