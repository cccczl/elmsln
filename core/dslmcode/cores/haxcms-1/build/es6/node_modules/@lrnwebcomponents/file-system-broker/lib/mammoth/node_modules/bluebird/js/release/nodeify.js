module.exports=function(r){var t=require("./util"),e=r._async,a=t.tryCatch,o=t.errorObj;function spreadAdapter(r,n){if(!t.isArray(r))return successAdapter.call(this,r,n);var s=a(n).apply(this._boundValue(),[null].concat(r));s===o&&e.throwLater(s.e)}function successAdapter(r,t){var n=this._boundValue(),s=void 0===r?a(t).call(n,null):a(t).call(n,null,r);s===o&&e.throwLater(s.e)}function errorAdapter(r,t){if(!r){var n=new Error(r+"");n.cause=r,r=n}var s=a(t).call(this._boundValue(),r);s===o&&e.throwLater(s.e)}r.prototype.asCallback=r.prototype.nodeify=function(r,t){if("function"==typeof r){var e=successAdapter;void 0!==t&&Object(t).spread&&(e=spreadAdapter),this._then(e,errorAdapter,void 0,this,r)}return this}};