var e,t=require("./util"),n=t.getNativePromise();if(t.isNode&&"undefined"==typeof MutationObserver){var o=global.setImmediate,i=process.nextTick;e=t.isRecentNode?function(e){o.call(global,e)}:function(e){i.call(process,e)}}else if("function"==typeof n&&"function"==typeof n.resolve){var r=n.resolve();e=function(e){r.then(e)}}else e="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,o=document.createElement("div");new MutationObserver((function(){e.classList.toggle("foo"),n=!1})).observe(o,t);return function schedule(i){var r=new MutationObserver((function(){r.disconnect(),i()}));r.observe(e,t),n||(n=!0,o.classList.toggle("foo"))}}();module.exports=e;