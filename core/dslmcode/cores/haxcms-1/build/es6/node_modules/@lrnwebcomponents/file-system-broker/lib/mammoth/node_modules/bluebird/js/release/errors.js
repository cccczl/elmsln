var r,e,o=require("./es5"),t=o.freeze,a=require("./util"),n=a.inherits,i=a.notEnumerableProp;function subError(r,e){function SubError(o){if(!(this instanceof SubError))return new SubError(o);i(this,"message","string"==typeof o?o:e),i(this,"name",r),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return n(SubError,Error),SubError}var s=subError("Warning","warning"),E=subError("CancellationError","cancellation error"),u=subError("TimeoutError","timeout error"),l=subError("AggregateError","aggregate error");try{r=TypeError,e=RangeError}catch(o){r=subError("TypeError","type error"),e=subError("RangeError","range error")}for(var p="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),c=0;c<p.length;++c)"function"==typeof Array.prototype[p[c]]&&(l.prototype[p[c]]=Array.prototype[p[c]]);o.defineProperty(l.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),l.prototype.isOperational=!0;var g=0;function OperationalError(r){if(!(this instanceof OperationalError))return new OperationalError(r);i(this,"name","OperationalError"),i(this,"message",r),this.cause=r,this.isOperational=!0,r instanceof Error?(i(this,"message",r.message),i(this,"stack",r.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}l.prototype.toString=function(){var r=Array(4*g+1).join(" "),e="\n"+r+"AggregateError of:\n";g++,r=Array(4*g+1).join(" ");for(var o=0;o<this.length;++o){for(var t=this[o]===this?"[Circular AggregateError]":this[o]+"",a=t.split("\n"),n=0;n<a.length;++n)a[n]=r+a[n];e+=(t=a.join("\n"))+"\n"}return g--,e},n(OperationalError,Error);var h=Error.__BluebirdErrorTypes__;h||(h=t({CancellationError:E,TimeoutError:u,OperationalError,RejectionError:OperationalError,AggregateError:l}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:h,writable:!1,enumerable:!1,configurable:!1})),module.exports={Error,TypeError:r,RangeError:e,CancellationError:h.CancellationError,OperationalError:h.OperationalError,TimeoutError:h.TimeoutError,AggregateError:h.AggregateError,Warning:s};