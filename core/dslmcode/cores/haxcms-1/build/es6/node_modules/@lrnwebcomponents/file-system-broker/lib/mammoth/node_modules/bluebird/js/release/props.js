module.exports=function(r,t,e,o){var i,n=require("./util"),s=n.isObject,a=require("./es5");"function"==typeof Map&&(i=Map);var p=function(){var r=0,t=0;function extractEntry(e,o){this[r]=e,this[r+t]=o,r++}return function mapToEntries(e){t=e.size,r=0;var o=new Array(2*e.size);return e.forEach(extractEntry,o),o}}();function PropertiesPromiseArray(r){var t,e=!1;if(void 0!==i&&r instanceof i)t=p(r),e=!0;else{var o=a.keys(r),n=o.length;t=new Array(2*n);for(var s=0;s<n;++s){var u=o[s];t[s]=r[u],t[s+n]=u}}this.constructor$(t),this._isMap=e,this._init$(void 0,-3)}function props(t){var i,n=e(t);return s(n)?(i=n instanceof r?n._then(r.props,void 0,void 0,void 0,void 0):new PropertiesPromiseArray(n).promise(),n instanceof r&&i._propagateFrom(n,2),i):o("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}n.inherits(PropertiesPromiseArray,t),PropertiesPromiseArray.prototype._init=function(){},PropertiesPromiseArray.prototype._promiseFulfilled=function(r,t){if(this._values[t]=r,++this._totalResolved>=this._length){var e;if(this._isMap)e=function(r){for(var t=new i,e=r.length/2|0,o=0;o<e;++o){var n=r[e+o],s=r[o];t.set(n,s)}return t}(this._values);else{e={};for(var o=this.length(),n=0,s=this.length();n<s;++n)e[this._values[n+o]]=this._values[n]}return this._resolve(e),!0}return!1},PropertiesPromiseArray.prototype.shouldCopyValues=function(){return!1},PropertiesPromiseArray.prototype.getActualLength=function(r){return r>>1},r.prototype.props=function(){return props(this)},r.props=function(r){return props(r)}};