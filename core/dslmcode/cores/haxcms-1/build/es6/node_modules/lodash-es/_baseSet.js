import r from"./_assignValue.js";import t from"./_castPath.js";import o from"./_isIndex.js";import e from"./isObject.js";import i from"./_toKey.js";function baseSet(s,f,a,m){if(!e(s))return s;for(var n=-1,p=(f=t(f,s)).length,u=p-1,_=s;null!=_&&++n<p;){var j=i(f[n]),c=a;if("__proto__"===j||"constructor"===j||"prototype"===j)return s;if(n!=u){var l=_[j];void 0===(c=m?m(l,j,_):void 0)&&(c=e(l)?l:o(f[n+1])?[]:{})}r(_,j,c),_=_[j]}return s}export default baseSet;