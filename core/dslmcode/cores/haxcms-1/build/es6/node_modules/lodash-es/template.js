import r from"./assignInWith.js";import e from"./attempt.js";import t from"./_baseValues.js";import o from"./_customDefaultsAssignIn.js";import n from"./_escapeStringChar.js";import p from"./isError.js";import a from"./_isIterateeCall.js";import s from"./keys.js";import i from"./_reInterpolate.js";import _ from"./templateSettings.js";import l from"./toString.js";var m=/\b__p \+= '';/g,c=/\b(__p \+=) '' \+/g,u=/(__e\(.*?\)|\b__t\)) \+\n'';/g,f=/[()=,{}\[\]\/\s]/,j=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,g=/($^)/,v=/['\n\r\u2028\u2029\\]/g,b=Object.prototype.hasOwnProperty;function template(h,y,d){var w=_.imports._.templateSettings||_;d&&a(h,y,d)&&(y=void 0),h=l(h),y=r({},y,w,o);var I,$,R=r({},y.imports,w.imports,o),S=s(R),E=t(R,S),L=0,U=y.interpolate||g,x="__p += '",A=RegExp((y.escape||g).source+"|"+U.source+"|"+(U===i?j:g).source+"|"+(y.evaluate||g).source+"|$","g"),C=b.call(y,"sourceURL")?"//# sourceURL="+(y.sourceURL+"").replace(/\s/g," ")+"\n":"";h.replace(A,(function(r,e,t,o,p,a){return t||(t=o),x+=h.slice(L,a).replace(v,n),e&&(I=!0,x+="' +\n__e("+e+") +\n'"),p&&($=!0,x+="';\n"+p+";\n__p += '"),t&&(x+="' +\n((__t = ("+t+")) == null ? '' : __t) +\n'"),L=a+r.length,r})),x+="';\n";var O=b.call(y,"variable")&&y.variable;if(O){if(f.test(O))throw new Error("Invalid `variable` option passed into `_.template`")}else x="with (obj) {\n"+x+"\n}\n";x=($?x.replace(m,""):x).replace(c,"$1").replace(u,"$1;"),x="function("+(O||"obj")+") {\n"+(O?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(I?", __e = _.escape":"")+($?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+x+"return __p\n}";var k=e((function(){return Function(S,C+"return "+x).apply(void 0,E)}));if(k.source=x,p(k))throw k;return k}export default template;