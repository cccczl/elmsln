import r from"./_SetCache.js";import e from"./_arrayIncludes.js";import a from"./_arrayIncludesWith.js";import f from"./_arrayMap.js";import o from"./_baseUnary.js";import t from"./_cacheHas.js";function baseDifference(n,s,i,m){var p=-1,u=e,c=!0,l=n.length,h=[],j=s.length;if(!l)return h;i&&(s=f(s,o(i))),m?(u=a,c=!1):s.length>=200&&(u=t,c=!1,s=new r(s));r:for(;++p<l;){var _=n[p],y=null==i?_:i(_);if(_=m||0!==_?_:0,c&&y==y){for(var b=j;b--;)if(s[b]===y)continue r;h.push(_)}else u(s,y,m)||h.push(_)}return h}export default baseDifference;